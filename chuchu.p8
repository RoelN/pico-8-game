pico-8 cartridge // http://www.pico-8.com
version 15
__lua__

-- Todo:
-- * Add spawn point
-- * should_flip should look at current direction

mouse = {}
mouse.x = 8
mouse.y = 8
mouse.sprite = 16
mouse.speed = 1
-- 1 = up, 2 = right, 3 = down, 4 = left
mouse.direction = 2

function mousemove()
    -- Animate through three frames
    mouse.sprite += 1
    if mouse.sprite > 18 then
        mouse.sprite = 16
    end

    should_flip = mget( (mouse.x / 8) + 1, (mouse.y / 8) )

    if(should_flip == 1) then
        mouse.direction = 3
    end

    -- Move mouse depending on mouse.direction
    if mouse.direction == 1 then
        mouse.y -= mouse.speed
    end
    if mouse.direction == 2 then
        mouse.x += mouse.speed
    end
    if mouse.direction == 3 then
        mouse.y += mouse.speed
    end
    if mouse.direction == 4 then
        mouse.x -= mouse.speed
    end
end


function _update()
    mousemove()
end

function _draw()
	cls()
	map(0, 0, 0, 0, 16, 16)
    spr(mouse.sprite, mouse.x, mouse.y)
end

function _init()
end

__gfx__
00000000444f44440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000f4040f040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000004440444f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000044044f440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000044f440440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000404444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000004f0f44040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000444f4440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09999990099999900999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99799799997997999979979900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99099099990990999909909900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99999999999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99900999999009999990099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09999990099999900999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00900900009009000090090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09000090009009000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
